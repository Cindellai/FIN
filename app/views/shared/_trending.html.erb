<div class="max-w-sm rounded-lg bg-gradient-to-r from-blue-700 via-blue-800 to-blue-900 overflow-hidden shadow-lg m-4 mr-20">
  <h2 class="px-4 py-2 text-xl w-48 font-semibold text-white">Trending Topics</h2>
  <hr class="border-gray-400">

  <% sorted_trending_topics = @trending_topics.sort_by { |topic| -topic[:count] } %>

  <% sorted_trending_topics.first(5).each_with_index do |topic, index| %>
    <div class="flex items-center">
      <p class="px-4 ml-2 mt-3 w-48 text-lg font-bold text-gray-400"><%= index + 1 %>. Trending</p>
      <h2 class="px-4 ml-2 w-48 text-sm font-semibold text-white"><%= topic[:text] %></h2>
      <p class="px-4 ml-2 text-xl font-bold text-white"><%= topic[:count] %></p>
    </div>
    <hr class="border-gray-400">
  <% end %>
  
  <div class="flex justify-center">
    <h2 class="px-4 py-2 font-bold text-blue-300 cursor-pointer" id="show-more-trends">Show more</h2>
  </div>

  <div id="more-trends" class="hidden">
    <% sorted_trending_topics.drop(5).each_with_index do |topic, index| %>
      <div class="flex items-center">
        <p class="px-4 ml-2 mt-3 w-48 text-lg font-bold text-gray-400"><%= index + 6 %>. Trending</p>
        <h2 class="px-4 ml-2 w-48 text-sm font-semibold text-white"><%= topic[:text] %></h2>
        <p class="px-4 ml-2 text-xl font-bold text-white"><%= topic[:count] %></p>
      </div>
      <hr class="border-gray-400">
    <% end %>
  </div>
</div>

<script>
  document.getElementById('show-more-trends').addEventListener('click', function() {
    document.getElementById('more-trends').classList.toggle('hidden');
  });
</script>
