<div class="card lg:card-side bg-white-custom shadow-xl mb-4 max-w-4xl mx-auto shadow-lg font-playfair">
  <% if post.url.present? %>
    <figure>
      <img src="<%= post.url %>" alt="<%= post.title %>" class="object-cover w-full h-48 lg:h-auto lg:w-48"/>
    </figure>
  <% end %>
  <div class="card-body p-4">
    <div class="flex cursor-pointer gap-4 rounded-box bg-gradient-to-r from-blue-400 to-purple-800 p-2.5 transition-all hover:bg-base-content/10 active:scale-[.98] active:bg-base-content/15 shadow-lg">
      <div class="grow">
        <div class="flex">
          <h2 class="grow font-medium card-title text-white"><%= post.title %></h2>
          <span class="text-xs text-white"><%= post.created_at.strftime("%B %d, %Y %H:%M") %></span>
        </div>
        <% if post.post_type == 'article' %>
          <p class="line-clamp-1 text-ellipsis text-sm/none text-base-content/80"><%= post.body %></p>
        <% elsif post.post_type == 'video' %>
          <a href="<%= post.url %>" class="text-blue-500">Watch Video</a>
        <% elsif post.post_type == 'trade_idea' %>
          <% if post.trade.present? %>
            <div class="grid gap-5 lg:grid-cols-2 xl:grid-cols-3 mt-4">
              <div aria-label="Card" class="card bg-white-custom shadow text-center p-4 mx-2 shadow-lg">
                <div class="card-body gap-2">
                  <div class="text-sm">
                    <p class="font-medium text-base-content/70">Stock Name</p>
                    <div class="flex justify-center mt-2">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6 text-green-500">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12l7-7 7 7M12 5v14" />
                      </svg>
                      <h5 class="inline text-2xl/none font-semibold ml-2"><%= post.trade.stock_name %></h5>
                    </div>
                  </div>
                </div>
              </div>
              <div aria-label="Card" class="card bg-white-custom shadow text-center p-4 mx-2 shadow-lg">
                <div class="card-body gap-2">
                  <div class="text-sm">
                    <p class="font-medium text-base-content/70">Executed At</p>
                    <div class="flex justify-center mt-2">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6 text-blue-500">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-6 4h4m-6 4v2m6-2v2m-6 4h4m4 0h1a2 2 0 0 0 2-2v-3M6 21H5a2 2 0 0 1-2-2v-3m0-3V7a2 2 0 0 1 2-2h1m0 12h4m4-3h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1m-4 5V4m0 0h-4m4 0H6m4 5v5" />
                      </svg>
                      <h5 class="inline text-2xl/none font-semibold ml-2"><%= post.trade.executed_at.strftime("%B %d, %Y %H:%M") %></h5>
                    </div>
                  </div>
                </div>
              </div>
              <div aria-label="Card" class="card bg-white-custom shadow text-center p-4 mx-2 shadow-lg">
                <div class="card-body gap-2">
                  <div class="text-sm">
                    <p class="font-medium text-base-content/70">Performance</p>
                    <div class="flex justify-center mt-2">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6 text-yellow-500">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6M9 8h6m-6 8h6m-4-8V5a2 2 0 1 0-4 0v3m0 6a2 2 0 1 0 4 0v-3m4 4a2 2 0 1 0-4 0v3m0-8h6m0 0V5a2 2 0 1 0-4 0v3m0 6a2 2 0 1 0 4 0v-3m-6 6h6m-4-6h4m0 0V5a2 2 0 1 0-4 0v3m0 6a2 2 0 1 0 4 0v-3m-6 6h6" />
                      </svg>
                      <h5 class="inline text-2xl/none font-semibold ml-2"><%= post.trade.performance %></h5>
                    </div>
                  </div>
                </div>
              </div>
              <div aria-label="Card" class="card bg-white-custom shadow text-center p-4 mx-2 shadow-lg">
                <div class="card-body gap-2">
                  <div class="text-sm">
                    <p class="font-medium text-base-content/70">Buy or Sell</p>
                    <div class="flex justify-center mt-2">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6 <%= post.trade.buy_or_sell == 'Buy' ? 'text-green-500' : 'text-red-500' %>">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7h-4V3H8v4H4l8 8 8-8h-4V3h-4v4h-4z" />
                      </svg>
                      <h5 class="inline text-2xl/none font-semibold ml-2 <%= post.trade.buy_or_sell == 'Buy' ? 'text-green-500' : 'text-red-500' %>">
                        <%= post.trade.buy_or_sell %>
                      </h5>
                    </div>
                  </div>
                </div>
              </div>
              <div aria-label="Card" class="card bg-white-custom shadow text-center p-4 mx-2 shadow-lg">
                <div class="card-body gap-2">
                  <div class="text-sm">
                    <p class="font-medium text-base-content/70">Quantity</p>
                    <div class="flex justify-center mt-2">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6 text-indigo-500">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16V7a4 4 0 0 1 4-4h1m2 4h4a4 4 0 0 1 4 4v4m-8 8v-4M5 12h6m0 4v4m4-16v4M9 7v6m0 0V7m0 0H5v4h4v2h6V7m0 2V7h6v2m-6 0h4v2h-4m0 0v2m0 0v2m0 0v2h-4m4-2h4v-4h-4v4m0-4v2h-4v2m0 0v2h4v-4m0 0v-4m0-2v-2h4v4m-4 0h-4v2h4v-2m-4 2H5v-2h4v2m-4 0v-2h4m0 0v4" />
                      </svg>
                      <h5 class="inline text-2xl/none font-semibold ml-2"><%= post.trade.quantity %></h5>
                    </div>
                  </div>
                </div>
              </div>
              <div aria-label="Card" class="card bg-white-custom shadow text-center p-4 mx-2 shadow-lg">
                <div class="card-body gap-2">
                  <div class="text-sm">
                    <p class="font-medium text-base-content/70">Price</p>
                    <div class="flex justify-center mt-2">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6 text-purple-500">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8V4m0 4v8m0-8h4m0 0H8m4 4v4m4 0v-4m-4-4v4m-4 4H8v4h4v-4m4-4h-4m0 0V8m0 0H8m4 0h4" />
                      </svg>
                      <h5 class="inline text-2xl/none font-semibold ml-2"><%= post.trade.price %></h5>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="mt-4">
              <h3 class="text-lg font-semibold text-gray-700">Description</h3>
              <p class="text-gray-700"><%= post.trade.description %></p>
            </div>
          <% else %>
            <p>No trade details available.</p>
          <% end %>
        <% end %>
      </div>
    </div>
    <div class="card-actions justify-end mt-4">
      <% if current_user == post.user %>
        <%= link_to 'Edit', edit_post_path(post), class: 'btn btn-primary mr-2' %>
        <%= button_to 'Delete Post', post, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' %>
      <% else %>
        <p>The current user does not own this post.</p>
      <% end %>
    </div>
  </div>
</div>
